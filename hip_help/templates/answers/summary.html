<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Hipchat Help Me - Admin View</title>
     <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>


</head>
<body>
    <section>

        <input list="room_name">

        <datalist id="room_name">

        </datalist>
        <button>refresh</button>


        <div class="table-hover">
           <table>
               <tr>
                   <th>#</th>
                   <th>Key</th>
                   <th>Likes</th>
                   <th>Dislikes</th>
                   <th>Number of requests</th>
               </tr>
               {% for answer in answers %}
               <tr>
                   <th></th>
                   <td>{{answer.keyword}}</td>
                   <td>{{answer.likes_count}}</td>
                   <td>{{answer.dislikes_count}}</td>
                   <td>{{answer.ask_count}}</td>
               </tr>
               {% endfor %}
           </table>
        </div>
    </section>

<script>
    $(function() {

        console.log($('.ui-widget'));

        var rooms = [
            {% for room in rooms %}
                [{{forloop.counter}}, {{room.room_id}}],
            {% endfor %}
        ];


        for (var i=0; i < rooms.length; i++) {

            var option = document.createElement('option');
            option.setAttribute('value', rooms[i][1]);

            var list = document.getElementById('room_name');
            list.appendChild(option);

            console.log(rooms[i]);

        }

        $('button').on('click', function(e){

            e.preventDefault();

            var datalist = document.getElementById('room_name'),
                inputVal = document.querySelector('input').value;
            console.log(inputVal);

            window.location.href='/hip-help/summary/' + inputVal;

//            $('#browsers option').each(function() {
//            if($(this).is(':selected')){
//                // Your code here with the selected value
//            }
//        });

        })
    })
</script>

</body>
</html>